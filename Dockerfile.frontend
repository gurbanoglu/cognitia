FROM node:20-alpine

WORKDIR /frontend

COPY ./frontend/package*.json ./

# Add debug step: try npm install fallback and capture error logs
RUN npm ci || (echo "npm ci failed, trying npm install..." && npm install)

COPY ./frontend .

EXPOSE 3000

CMD ["npm", "run", "dev"]